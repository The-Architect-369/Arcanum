@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme */
:root {
  --bg-ink: #0b0f1a;
  --card-from: 18, 20, 40;
  --card-to: 12, 14, 28;
  --ring-pop: 167,139,250; /* purple */
  --ring-star: 147,197,253; /* cyan */
}
html, body { background: var(--bg-ink); color: #fff; }

/* Typography tuned for 100% zoom on desktop */
.h1 { @apply text-4xl md:text-5xl font-bold tracking-tight leading-tight; }
.h2 { @apply text-2xl md:text-3xl font-semibold tracking-tight; }
.p  { @apply text-base md:text-lg leading-relaxed; }

.section { @apply mx-auto w-full max-w-6xl px-4; }

/* Bento primitives */
.bento-card {
  position: relative;
  background: linear-gradient(180deg, rgba(var(--card-from),0.92), rgba(var(--card-to),0.92));
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 1.25rem;
  box-shadow: 0 8px 24px rgba(0,0,0,0.35);
  transition: transform .18s, box-shadow .18s, border-color .18s;
}
.bento-card:hover, .bento-card:focus-within {
  transform: translateY(-2px);
  border-color: rgba(255,255,255,0.14);
  box-shadow:
    0 10px 28px rgba(0,0,0,0.45),
    0 0 0 1px rgba(var(--ring-pop), 0.18),
    0 0 34px rgba(var(--ring-star), 0.12);
}
.bento-ring {
  pointer-events: none; position: absolute; inset: -1px; border-radius: 1.25rem;
  background:
    radial-gradient(60% 60% at 50% 0%, rgba(var(--ring-pop), .10), transparent 60%),
    radial-gradient(80% 60% at 100% 100%, rgba(var(--ring-star), .08), transparent 60%);
  opacity: .9; -webkit-mask-image: linear-gradient(#000, transparent 70%); mask-image: linear-gradient(#000, transparent 70%);
}
.bento-badge {
  @apply inline-flex items-center gap-2 rounded-full px-3 py-1.5 text-xs md:text-sm;
  @apply bg-white/5 ring-1 ring-white/10 hover:bg-white/10;
}

/* Snap one card per screen */
.snap-container { scroll-snap-type: y mandatory; }
.snap-section  { scroll-snap-align: center; min-height: 100svh; display: grid; place-items: center; }
.vh-wrap       { @apply grid place-items-center w-full px-4; min-height: 100svh; }
.vh-card       { width: min(92vw, 980px); }            /* wide on desktop, comfy on mobile */
.vh-pad        { @apply p-6 md:p-10; }                 /* large internal padding */
.vh-tall       { min-height: clamp(420px, 70vh, 740px); }

/* --- Constellation bg layering (ensure it's visible) --- */
.constellation-bg { position: fixed; inset: 0; z-index: 0; pointer-events: none; opacity: .95; }
.layer-content    { position: relative; z-index: 1; background: transparent; }

/* --- Strong vertical snapping --- */
html, body { overscroll-behavior-y: contain; }
.snap-container { scroll-snap-type: y mandatory; }
.snap-section  { scroll-snap-align: center; scroll-snap-stop: always; min-height: 100svh; }

/* Fullscreen hero */
.section-full {
  min-height: 100svh;
  display: grid; place-items: center;
  padding: 1rem;
}

/* Split section (lead bento + carousel) — tighter gap */
.section-split {
  min-height: 100svh;
  display: grid; grid-template-rows: 1fr 1fr;
  gap: .75rem;
  padding: .75rem 1rem .5rem;
}

/* Lead bento container */
.split-bento { height: 100%; width: 100%; display: grid; place-items: center; }

/* ---- Carousel “window” ---- */
.carousel-wrap {
  position: relative;
  width: 100%;
  max-width: 72rem;
  margin-inline: auto;
  overflow: hidden;
  border-radius: .75rem;
}

/* Track */
.carousel-track {
  display: flex;
  gap: 1rem;                   /* MUST match GAP_PX in component (16px) */
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  padding: .25rem 0 .5rem;
}
.carousel-track::-webkit-scrollbar { display: none; }
.carousel-track { scrollbar-width: none; }

/* Items — centered active with side peeks visible */
.carousel-item { scroll-snap-align: center; flex: 0 0 var(--item-w, 62%); }
@media (min-width: 640px)  { .carousel-item { --item-w: 60%; } }
@media (min-width: 1024px) { .carousel-item { --item-w: 58%; } }
@media (min-width: 1280px) { .carousel-item { --item-w: 55%; } }

/* Card proportions so nothing feels squished */
.carousel-card .bento-card { height: 100%; }
.carousel-card { min-height: 260px; }
@media (min-width: 1024px) { .carousel-card { min-height: 300px; } }

/* Showcase Dots */
.showcase-dots { position: absolute; left: 0; right: 0; bottom: .6rem; display:flex; justify-content:center; gap:.5rem; }
.showdot { height: 6px; width: 6px; border-radius: 9999px; background: rgba(255,255,255,.28); }
.showdot[data-active="true"] { background: rgb(147 197 253); transform: scale(1.15); }


/* Shared hero/CTA sizing */
.vh-card { width: min(96vw, 1100px); }
.vh-pad  { padding: clamp(1rem, 2.5vw, 2.5rem); }
.vh-tall { min-height: clamp(420px, 70vh, 720px); }

/* --- Showcase (carousel inside the bento card) --- */
.showcase-wrap {
  --peek: clamp(10px, 3vw, 28px);
  --gap: 16px;
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  border-radius: .75rem;
}
.showcase-track {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: stretch;
  gap: var(--gap);
  padding: 0 var(--peek) 1.75rem var(--peek);
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
}
.showcase-track::-webkit-scrollbar { display: none; }
.showcase-track { scrollbar-width: none; }
.showcase-item { flex: 0 0 calc(100% - (2 * var(--peek))); scroll-snap-align: center; display: grid; }
.showcase-panel {
  background: linear-gradient(180deg, rgba(22,24,44,.86), rgba(10,12,26,.86));
  border: 1px solid rgba(255,255,255,.08);
  border-radius: .85rem;
  padding: clamp(12px, 2.2vw, 18px);
  box-shadow: 0 8px 24px rgba(0,0,0,.35);
}

/* arrows inside the card */
.showcase-arrow {
  position: absolute;
  top: 50%; transform: translateY(-50%);
  height: 36px; width: 36px;
  display: grid; place-items: center;
  border-radius: 9999px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.1);
  backdrop-filter: blur(6px);
}
.showcase-arrow:hover { background: rgba(255,255,255,.12); }

/* dots inside the card */
.showcase-dots { position: absolute; left: 0; right: 0; bottom: .6rem; display:flex; justify-content:center; gap:.5rem; }
.dot { height: 6px; width: 6px; border-radius: 9999px; background: rgba(255,255,255,.28); }
.dot[data-active="true"] { background: rgb(147 197 253); transform: scale(1.15); }
.stepdot {
  height: 22px; width: 22px;
  display: grid; place-items: center;
  border-radius: 9999px;
  font-size: 12px; line-height: 1;
  color: white; background: rgba(147,197,253,.15);
  border: 1px solid rgba(147,197,253,.35);
}

/* --- Hope layers never steal clicks and stay performant --- */
.hope-layer { pointer-events: none; will-change: transform, opacity, filter; }

/* ===== Hope Orb — centered aura & eye refinement ===== */

/* Centered aura so it wraps the iris/pupil perfectly. */
.hope-aura {
  background:
    radial-gradient(
      62% 62% at 50% 50%,              /* CENTERED */
      rgba(210,235,255,.40),
      rgba(147,197,253,.24) 55%,
      rgba(167,139,250,.16) 72%,
      rgba(0,0,0,0) 78%
    );
  mix-blend-mode: screen;
  animation: hopeRadiate 4s ease-in-out infinite;
}

/* Cornea dome with slow sheen sweep */
.hope-cornea {
  background:
    radial-gradient(48% 58% at 50% 50%, rgba(235,245,255,.20), rgba(200,220,255,.10) 60%, rgba(0,0,0,0) 100%);
  position: relative;
}
.hope-cornea-sheen {
  position: absolute; inset: 0; border-radius: 9999px;
  background:
    linear-gradient(210deg, rgba(255,255,255,.14), rgba(255,255,255,0) 40% 70%, rgba(255,255,255,.10));
  mix-blend-mode: screen;
  animation: hopeSheenSweep 6.8s ease-in-out infinite;
}

/* Iris ring with subtle color & depth */
.hope-iris {
  position: relative;
  background:
    radial-gradient(74% 86% at 50% 50%,
      rgba(138,188,255,.60) 0%,
      rgba(122,174,255,.46) 45%,
      rgba(114,166,248,.30) 70%,
      rgba(38,58,114,.12) 100%);
}
.hope-iris-ring {
  position: absolute; inset: 0; border-radius: 9999px;
  box-shadow: inset 0 0 0 2px rgba(170,210,255,.25), inset 0 0 22px rgba(110,160,250,.28);
}

/* Ultra-faint radial spokes to sell the iris look */
.hope-iris-spokes {
  position: absolute; inset: 0; border-radius: 9999px;
  background:
    repeating-conic-gradient(
      from 0deg,
      rgba(255,255,255,.055) 0 2deg,
      rgba(255,255,255,0)    2deg 9deg
    );
  mask-image: radial-gradient(circle at 50% 50%, rgba(0,0,0,0) 0 22%, rgba(0,0,0,1) 28% 70%, rgba(0,0,0,0) 76% 100%);
  -webkit-mask-image: radial-gradient(circle at 50% 50%, rgba(0,0,0,0) 0 22%, rgba(0,0,0,1) 28% 70%, rgba(0,0,0,0) 76% 100%);
  opacity: .20;
  animation: irisDrift 18s linear infinite;
}

/* Luminous core ("pupil") stays bright, breathing */
.hope-core {
  background:
    radial-gradient(50% 60% at 50% 50%, rgba(245,250,255,.96), rgba(180,220,255,.78) 60%, rgba(160,140,240,.48) 100%);
  animation: hopeCorePulse 4.6s ease-in-out infinite;
}
.hope-core-breath {
  position: absolute; inset: 18%; border-radius: 9999px;
  box-shadow: inset 0 0 18px rgba(255,255,255,.30);
  animation: hopeBreath 3.2s ease-in-out infinite;
}

/* Specular highlight (catch-light) — slight off-center handled in TSX */
.hope-seed {
  position: absolute; border-radius: 9999px; mix-blend-mode: screen;
  background:
    radial-gradient(circle, rgba(255,255,255,1), rgba(220,245,255,.55) 60%, rgba(0,0,0,0) 80%);
  animation: hopeTwinkle 2.4s ease-in-out infinite;
}

/* Subtle float */
.hope-osc { animation: hopeOscillate 7.5s ease-in-out infinite; }

/* === Keyframes === */
@keyframes hopeRadiate {
  0%   { transform: scale(0.985); opacity: .78; }
  50%  { transform: scale(1.04);  opacity: 1; }
  100% { transform: scale(0.985); opacity: .78; }
}
@keyframes hopeCorePulse {
  0%   { transform: scale(0.985); filter: brightness(1.0); }
  50%  { transform: scale(1.03);  filter: brightness(1.12); }
  100% { transform: scale(0.985); filter: brightness(1.0); }
}
@keyframes hopeBreath {
  0%   { opacity: .55; transform: scale(0.985); }
  50%  { opacity: .9;  transform: scale(1.015); }
  100% { opacity: .55; transform: scale(0.985); }
}
@keyframes hopeTwinkle {
  0%, 100% { opacity: .8; transform: scale(0.96) }
  50%      { opacity: 1;   transform: scale(1.06) }
}
@keyframes hopeOscillate {
  0%   { transform: translateY(0px) }
  25%  { transform: translateY(-3px) }
  50%  { transform: translateY(0px) }
  75%  { transform: translateY(3px) }
  100% { transform: translateY(0px) }
}
@keyframes irisDrift {
  0% { transform: rotate(0deg) }
  100% { transform: rotate(360deg) }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .hope-aura, .hope-cornea-sheen, .hope-iris-spokes,
  .hope-core, .hope-core-breath, .hope-seed, .hope-osc { animation: none !important; }
}

/* === CTA shield to block any background circles/overlays === */
.cta-wrap {
  position: relative;
  z-index: 30;            /* above orb & card decorations */
  isolation: isolate;     /* create a new stacking context for the shield + button */
  display: inline-flex;
}
.cta-wrap::before {
  content: "";
  position: absolute;
  z-index: 0;
  inset: -10px -14px;     /* a little larger than the button */
  border-radius: 14px;
  background: linear-gradient(180deg, rgba(18,20,40,.92), rgba(10,12,26,.92));
  border: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 8px 20px rgba(0,0,0,.45); /* soft matte */
  pointer-events: none;
}

/* === CTA button (namespaced to avoid collisions) === */
.cta-primary {
  position: relative;
  z-index: 1;             /* above the matte */
  display: inline-flex;
  align-items: center;
  justify-content: center;

  width: auto;
  height: auto;
  min-width: 0;
  min-height: 0;

  padding: 0.55rem 0.9rem;
  border-radius: 0.9rem;
  font-weight: 600;
  font-size: 0.95rem;
  line-height: 1;

  color: #fff;
  text-decoration: none;

  background: linear-gradient(180deg, rgba(147,197,253,.14), rgba(167,139,250,.12));
  border: 1px solid rgba(255,255,255,.16);
  box-shadow:
    0 6px 16px rgba(0,0,0,.35),
    0 0 0 1px rgba(147,197,253,.20) inset;

  transition: transform .15s ease, background .2s ease, box-shadow .2s ease, filter .15s ease;
  -webkit-tap-highlight-color: transparent;
}
.cta-primary:hover {
  background: linear-gradient(180deg, rgba(147,197,253,.20), rgba(167,139,250,.16));
  transform: translateY(-1px);
  box-shadow:
    0 10px 22px rgba(0,0,0,.42),
    0 0 0 1px rgba(147,197,253,.28) inset;
}
.cta-primary:active { transform: translateY(0) scale(.99); }
.cta-primary:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px rgba(12,16,28,.9),
    0 0 0 4px rgba(147,197,253,.45);
}
